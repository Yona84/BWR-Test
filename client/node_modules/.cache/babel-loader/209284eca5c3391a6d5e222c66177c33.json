{"ast":null,"code":"import React from \"react\";\nexport const useGetData = () => {\n  const [data, setData] = React.useState([]);\n\n  const getVehicles = async () => {\n    const rawResponse = await fetch(\"/api/vehicles/\", {\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const response = await rawResponse.json();\n    setData(response.vehicles);\n  };\n\n  React.useEffect(() => {\n    getVehicles();\n  }, []);\n  return [data, setData];\n};\nexport const useGetUpdatedData = () => {\n  const [data, setData] = React.useState([]);\n\n  const updateCars = async () => {\n    const rawResponse = await fetch(\"/api/vehicles/updateLocation\", {\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const response = await rawResponse.json();\n    setData(response.vehicles);\n  };\n\n  React.useEffect(() => {\n    setTimeout(() => setInterval(() => updateCars(), 5000), 3000);\n  }, []);\n  return data;\n};","map":{"version":3,"sources":["/Users/yonatanronen/dev/10k-Map-Markers/server/client/src/hooks/hooks.js"],"names":["React","useGetData","data","setData","useState","getVehicles","rawResponse","fetch","method","mode","headers","Accept","response","json","vehicles","useEffect","useGetUpdatedData","updateCars","setTimeout","setInterval"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBH,KAAK,CAACI,QAAN,CAAe,EAAf,CAAxB;;AAEA,QAAMC,WAAW,GAAG,YAAY;AAC9B,UAAMC,WAAW,GAAG,MAAMC,KAAK,CAAC,gBAAD,EAAmB;AAChDC,MAAAA,MAAM,EAAE,KADwC;AAEhDC,MAAAA,IAAI,EAAE,SAF0C;AAGhDC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AAHuC,KAAnB,CAA/B;AAQA,UAAMC,QAAQ,GAAG,MAAMN,WAAW,CAACO,IAAZ,EAAvB;AACAV,IAAAA,OAAO,CAACS,QAAQ,CAACE,QAAV,CAAP;AACD,GAXD;;AAYAd,EAAAA,KAAK,CAACe,SAAN,CAAgB,MAAM;AACpBV,IAAAA,WAAW;AACZ,GAFD,EAEG,EAFH;AAIA,SAAO,CAACH,IAAD,EAAOC,OAAP,CAAP;AACD,CApBM;AAsBP,OAAO,MAAMa,iBAAiB,GAAG,MAAM;AACrC,QAAM,CAACd,IAAD,EAAOC,OAAP,IAAkBH,KAAK,CAACI,QAAN,CAAe,EAAf,CAAxB;;AAEA,QAAMa,UAAU,GAAG,YAAY;AAC7B,UAAMX,WAAW,GAAG,MAAMC,KAAK,CAAC,8BAAD,EAAiC;AAC9DC,MAAAA,MAAM,EAAE,KADsD;AAE9DC,MAAAA,IAAI,EAAE,SAFwD;AAG9DC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AAHqD,KAAjC,CAA/B;AAQA,UAAMC,QAAQ,GAAG,MAAMN,WAAW,CAACO,IAAZ,EAAvB;AACAV,IAAAA,OAAO,CAACS,QAAQ,CAACE,QAAV,CAAP;AACD,GAXD;;AAYAd,EAAAA,KAAK,CAACe,SAAN,CAAgB,MAAM;AACpBG,IAAAA,UAAU,CAAC,MAAMC,WAAW,CAAC,MAAMF,UAAU,EAAjB,EAAqB,IAArB,CAAlB,EAA8C,IAA9C,CAAV;AACD,GAFD,EAEG,EAFH;AAIA,SAAOf,IAAP;AACD,CApBM","sourcesContent":["import React from \"react\";\n\nexport const useGetData = () => {\n  const [data, setData] = React.useState([]);\n\n  const getVehicles = async () => {\n    const rawResponse = await fetch(\"/api/vehicles/\", {\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    const response = await rawResponse.json();\n    setData(response.vehicles);\n  };\n  React.useEffect(() => {\n    getVehicles();\n  }, []);\n\n  return [data, setData];\n};\n\nexport const useGetUpdatedData = () => {\n  const [data, setData] = React.useState([]);\n\n  const updateCars = async () => {\n    const rawResponse = await fetch(\"/api/vehicles/updateLocation\", {\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    const response = await rawResponse.json();\n    setData(response.vehicles);\n  };\n  React.useEffect(() => {\n    setTimeout(() => setInterval(() => updateCars(), 5000), 3000);\n  }, []);\n\n  return data;\n};\n"]},"metadata":{},"sourceType":"module"}